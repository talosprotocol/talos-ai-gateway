{
  "schema_id": "talos.gateway.surface_registry",
  "schema_version": "v1",
  "routes": [
    {
      "method": "POST",
      "path_template": "/v1/chat/completions",
      "permission": "ai:chat",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      }
    },
    {
      "method": "GET",
      "path_template": "/v1/secrets/{secret_id}",
      "permission": "secrets:read",
      "scope_template": {
        "scope_type": "secret",
        "attributes": {
          "secret_id": "{secret_id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/v1/secrets",
      "permission": "secrets:write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      }
    },
    {
      "method": "GET",
      "path_template": "/health/live",
      "permission": "system:health",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      },
      "public": true
    },
    {
      "method": "GET",
      "path_template": "/health/ready",
      "permission": "system:health",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      },
      "public": true
    },
    {
      "method": "GET",
      "path_template": "/version",
      "permission": "system:health",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      },
      "public": true
    },
    {
      "method": "GET",
      "path_template": "/metrics/summary",
      "permission": "system:metrics",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      },
      "public": true
    },
    {
      "method": "POST",
      "path_template": "/a2a/sessions",
      "permission": "a2a.session.create",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      }
    },
    {
      "method": "GET",
      "path_template": "/a2a/sessions/{id}",
      "permission": "a2a.session.read",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/a2a/sessions/{id}/accept",
      "permission": "a2a.session.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/a2a/sessions/{id}/rotate",
      "permission": "a2a.session.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "DELETE",
      "path_template": "/a2a/sessions/{id}",
      "permission": "a2a.session.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/a2a/sessions/{id}/frames",
      "permission": "a2a.frame.send",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "GET",
      "path_template": "/a2a/sessions/{id}/frames",
      "permission": "a2a.frame.receive",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "session_id": "{id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/a2a/groups",
      "permission": "a2a.group.create",
      "scope_template": {
        "scope_type": "global",
        "attributes": {}
      }
    },
    {
      "method": "GET",
      "path_template": "/a2a/groups/{id}",
      "permission": "a2a.group.read",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "group_id": "{id}"
        }
      }
    },
    {
      "method": "POST",
      "path_template": "/a2a/groups/{id}/members",
      "permission": "a2a.group.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "group_id": "{id}"
        }
      }
    },
    {
      "method": "DELETE",
      "path_template": "/a2a/groups/{id}/members/{pid}",
      "permission": "a2a.group.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "group_id": "{id}",
          "member_id": "{pid}"
        }
      }
    },
    {
      "method": "DELETE",
      "path_template": "/a2a/groups/{id}",
      "permission": "a2a.group.write",
      "scope_template": {
        "scope_type": "global",
        "attributes": {
          "group_id": "{id}"
        }
      }
    }
  ]
}
